/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package team.ytk.json;

import com.fasterxml.jackson.databind.node.ArrayNode;
import com.fasterxml.jackson.databind.node.ObjectNode;
import com.fasterxml.jackson.databind.node.TextNode;
import java.math.BigDecimal;
import java.util.ArrayList;
import java.util.HashMap;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

class JSONTest {

    @Test
    void objectPut() {
        String json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            )
            .toString();
        System.out.println(json);
        Assertions.assertEquals(
            json,
            "{\"int\":1,\"string\":\"2\",\"float\":2.5,\"double\":2.5,\"BigDecimal\":1,\"boolean\":false,\"null\":null,\"map\":{\"a\":\"1\",\"b\":\"2\"},\"JSON.Map\":{\"m1\":\"1\",\"m2\":\"2\"},\"List\":[\"1\",\"2\"],\"JSON.List\":[1,2,4,5,[6,7]]}"
        );
    }

    @Test
    void arrayAdd() {
        String json = JSON
            .sAdd(
                1,
                3,
                new ArrayList<Integer>() {
                    {
                        add(6);
                        add(7);
                    }
                }
            )
            .add(2, 4)
            .add(5)
            .add(
                new ArrayList<Integer>() {
                    {
                        add(6);
                        add(7);
                    }
                }
            )
            .add((Object) null)
            .add(
                JSON
                    .sPut("array.map.int", 1)
                    .put(
                        "array.map.map",
                        new HashMap<String, String>() {
                            {
                                put("m1", "1");
                            }
                        }
                    )
                    .put(
                        "array.map.array",
                        new ArrayList<String>() {
                            {
                                add("1");
                            }
                        }
                    )
            )
            .concat(
                new ArrayList<String>() {
                    {
                        add("concat.1");
                    }
                }
            )
            .toString();
        System.out.println(json);
    }

    @Test
    void pointGet() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json);
        System.out.println(json.toString());
        // System.out.println(json.point(".ListMap[0].id3").get().asString());
        Assertions.assertEquals(json.point(".int").get().asInt(), 1);
        Assertions.assertEquals(json.point(".string").get().asString(), "2");
        Assertions.assertEquals(json.point(".float").get().asFloat(), 2.5f);
        Assertions.assertEquals(json.point(".double").get().asDouble(), 2.5d);
        Assertions.assertEquals(json.point(".BigDecimal").get().asBigDecimal(), BigDecimal.valueOf(1));
        Assertions.assertEquals(json.point(".boolean").get().asBoolean(), false);
        Assertions.assertEquals(json.point(".null").get().asNull(), null);

        Assertions.assertEquals(
            json.point(".map").get().asMap().hashCode(),
            new HashMap<String, String>() {
                {
                    put("a", "1");
                    put("b", "2");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".\"JSON.Map\"").get().asMap().hashCode(),
            new HashMap<String, String>() {
                {
                    put("m1", "1");
                    put("m2", "2");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json.point(".List").get().asList(String.class).hashCode(),
            new ArrayList<String>() {
                {
                    add("1");
                    add("2");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(json.point(".map.a").get().asString(), "1");
        Assertions.assertEquals(json.point(".List[0]").get().asString(), "1");
        Assertions.assertEquals(json.point(".ListMap[0].id1").get().asString(), "1");
        Assertions.assertEquals(
            json.point(".ListMap[0].id3[0]").get().asList().hashCode(),
            new ArrayList<Object>() {
                {
                    add(
                        new HashMap<>() {
                            {
                                put("id11", "1");
                                put("id22", "2");
                                put(
                                    "id33",
                                    new HashMap<String, String>() {
                                        {
                                            put("id333", "value1");
                                        }
                                    }
                                );
                            }
                        }
                    );
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json.point(".ListMap[0].id3[0][0]").get().asMap().hashCode(),
            new HashMap<>() {
                {
                    put("id11", "1");
                    put("id22", "2");
                    put(
                        "id33",
                        new HashMap<String, String>() {
                            {
                                put("id333", "value1");
                            }
                        }
                    );
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(json.point(".ListMap[0].id1").get().asString(), "1");
        Assertions.assertEquals(
            json.point(".ListMap[*].id1").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("1");
                    add("11");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id11").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("1");
                    add("11");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[1].id3[*][*].id11").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("11");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id33.id333").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("value1");
                    add("value2");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray.point(".[0].ListMap[*].id3[*][*].id33.id333").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("value1");
                    add("value2");
                }
            }
                .hashCode()
        );

        try {
            json.point(".ListMap[0].id3[0][0].id331.id333").get().asString();
            Assertions.assertTrue(false);
        } catch (NullPointerException error) {
            Assertions.assertTrue(true);
        } catch (Exception error) {
            Assertions.assertTrue(false);
        }
    }

    @Test
    void pointHas() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json);
        System.out.println(json.toString());
        // System.out.println(json.point(".ListMap[0].id3").get().asString());
        Assertions.assertEquals(json.point(".int").has(), true);
        Assertions.assertEquals(json.point(".string").has(), true);
        Assertions.assertEquals(json.point(".float").has(), true);
        Assertions.assertEquals(json.point(".double").has(), true);
        Assertions.assertEquals(json.point(".BigDecimal").has(), true);
        Assertions.assertEquals(json.point(".boolean").has(), true);
        Assertions.assertEquals(json.point(".null").has(), true);

        Assertions.assertEquals(json.point(".map").has(), true);

        Assertions.assertEquals(json.point(".\"JSON.Map\"").has(), true);

        Assertions.assertEquals(json.point(".List").has(), true);

        Assertions.assertEquals(json.point(".map.a").has(), true);
        Assertions.assertEquals(json.point(".List[0]").has(), true);
        Assertions.assertEquals(json.point(".ListMap[0].id1").has(), true);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0]").has(), true);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0]").has(), true);
        Assertions.assertEquals(json.point(".ListMap[0].id1").has(), true);
        Assertions.assertEquals(json.point(".ListMap[*].id1").has(), true);

        Assertions.assertEquals(json.point(".ListMap[*].id3[*][*].id11-null").has(), false);

        Assertions.assertEquals(json.point(".ListMap[*].id3[*][*].id11-null", 1).has(), true);

        Assertions.assertEquals(json.point(".ListMap[1].id3[*][*].id11").has(), true);

        Assertions.assertEquals(json.point(".ListMap[*].id3[*][*].id33.id333").has(), true);

        Assertions.assertEquals(jsonArray.point(".[0].ListMap[*].id3[*][*].id33.id333").has(), true);

        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].id331.id333").has(), false);

        Assertions.assertEquals(json.point("?.ListMap[3].id3[0][0].id331.id333").has(), false);
        Assertions.assertEquals(json.point("?.ListMap[3].id3[0][0].id331.id333").has(false), false);

        Assertions.assertEquals(json.point(".ListMap[0]?.id33[0][0].id331.id333").has(), false);
        Assertions.assertEquals(json.point(".ListMap[0]?.id33[0][0].id331.id333").has(false), false);

        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0]?.id331.id333").has(), false);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0]?.id331.id333").has(false), false);

        Assertions.assertEquals(json.point("?.ListMap1[*].id33[0][0].id331.id333").has(), false);
        Assertions.assertEquals(json.point("?.ListMap1[*].id33[0][0].id331.id333").has(false), false);

        Assertions.assertEquals(json.point(".ListMap[0]?.id3[10][0].id33.id333").has(), false);
        Assertions.assertEquals(json.point(".ListMap[0]?.id3[10][0].id33.id333").has(false), false);

        Assertions.assertEquals(json.point(".ListMap[*]?.id3[10][0].id33.id333").has(), false);
        Assertions.assertEquals(json.point(".ListMap[*]?.id3[10][0].id33.id333").has(false), false);

        Assertions.assertEquals(jsonArray.point(".[3].ListMap[*].id3[*][*].id33.id333").has(), false);

        Assertions.assertEquals(jsonArray.point("?.[3].ListMap[*].id3[*][*].id33.id333").has(), false);
        Assertions.assertEquals(jsonArray.point("?.[3].ListMap[*].id3[*][*].id33.id333").has(false), false);
    }

    @Test
    void pointDetele() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json.deepCopy().put("int", 2));
        System.out.println(json.toString());

        json.point(".int").delete();
        Assertions.assertEquals(json.point(".int").has(), false);

        json.point(".\"JSON.Map\"").delete();
        Assertions.assertEquals(json.point(".\"JSON.Map\"").has(), false);

        json.point(".map.a").delete();
        Assertions.assertEquals(json.point(".map.a").has(), false);

        json.point(".ListMap[0].id3[0][0].id33.id333").delete();
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].id33.id333").has(), false);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0].id33.id333").has(), true);

        json.point(".ListMap[1].id3[*][*].id11").delete();
        Assertions.assertEquals(json.point(".ListMap[1].id3[*][*].id11").has(), false);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0].id11").has(), false);
        Assertions.assertEquals(json.point(".ListMap[1].id3[*][*].id22").has(), true);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0].id22").has(), true);
        Assertions.assertEquals(json.point(".ListMap[0].id3[*][*].id11").has(), true);

        json.point(".ListMap[*].id3[*][*].id11").delete();
        Assertions.assertEquals(json.point(".ListMap[*].id3[*][*].id11").has(), false);
        Assertions.assertEquals(json.point(".ListMap[*].id3[0][0].id11").has(), false);
        Assertions.assertEquals(json.point(".ListMap[*].id3[*][*].id22").has(), true);
        Assertions.assertEquals(json.point(".ListMap[*].id3[0][0].id22").has(), true);
        Assertions.assertEquals(json.point(".ListMap[*].id3[*][*].id11").has(), false);

        json.point(".ListMap[0].id3[0][0]").delete();
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0]").has(), false);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0]").has(), true);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0]").has(), true);

        json.point(".ListMap[0].id3[0]").delete();
        Assertions.assertEquals(json.point(".ListMap[0].id3[0]").has(), false);
        Assertions.assertEquals(json.point(".ListMap[0].id3").has(), true);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0]").has(), true);

        json.point(".ListMap[0].id3").delete();
        Assertions.assertEquals(json.point(".ListMap[0].id3").has(), false);
        Assertions.assertEquals(json.point(".ListMap[1].id3").has(), true);

        json.point(".ListMap[*].id3").delete();
        Assertions.assertEquals(json.point(".ListMap[0].id3").has(), false);
        Assertions.assertEquals(json.point(".ListMap[1].id3").has(), false);

        json.point(".ListMap").delete();
        Assertions.assertEquals(json.point(".ListMap[0].id3").has(), false);
        Assertions.assertEquals(json.point(".ListMap[1].id3").has(), false);
        Assertions.assertEquals(json.point(".ListMap").has(), false);

        json.point(".ListMap[3]?.id3[0][0].id331.id333").delete();
        Assertions.assertEquals(json.point(".ListMap[0].id33[0][0]?.id331.id333").has(), false);

        json.point(".ListMap[0].id3[0][0]?.id331.id333").delete();
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0]?.id331.id333").has(), false);

        json.point("?.ListMap1[*].id33[0][0].id331.id333").delete();
        Assertions.assertEquals(json.point("?.ListMap1[*].id33[0][0].id331.id333").has(false), false);

        jsonArray.point(".[3].ListMap[*].id3[*][*].id33.id333").delete();
        Assertions.assertEquals(jsonArray.point(".[3].ListMap[*].id3[*][*].id33.id333").has(), false);

        jsonArray.point("?.[3].ListMap[*].id3[*][*].id33.id333").delete();
        Assertions.assertEquals(jsonArray.point("?.[3].ListMap[*].id3[*][*].id33.id333").has(), false);

        jsonArray.point(".[0].ListMap[*].id3[*][*].id33.id333").delete();
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[*].id3[*][*].id33.id333").has(), false);
        Assertions.assertEquals(jsonArray.point(".[1].ListMap[*].id3[*][*].id33.id333").has(), true);

        jsonArray.point(".[0]").delete();
        Assertions.assertEquals(jsonArray.point(".[0].int").has(), true);
        Assertions.assertEquals(jsonArray.point(".[0].int").get().asInt(), 2);
        Assertions.assertEquals(jsonArray.point(".[1].int").has(), false);
    }

    @Test
    void pointPut() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json.deepCopy().put("int", 2));
        System.out.println(json.toString());

        json.point(".").put("ex_int", 1);
        Assertions.assertEquals(json.point(".ex_int").get().asInt(), 1);

        json.point(".").put("ext.int", 1);
        Assertions.assertEquals(json.point(".\"ext.int\"").get().asInt(), 1);

        json.point(".map").put("c", 1);
        Assertions.assertEquals(json.point(".map.c").get().asInt(), 1);

        json.point(".ListMap[0].id3[0][0].id33").put("id334", 1);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].id33.id334").has(), true);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0].id33.id334").has(), false);

        json.point(".ListMap[1].id3[*][*]").put("ext_id", 1);
        json.point(".ListMap[1]").point(".id3[*][*]").put("ext_id", 1);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0].ext_id").has(), true);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].ext_id").has(), false);

        json.point(".ListMap[*].id3[*][*]").put("ext_id2", 1);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].ext_id2").has(), true);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0].ext_id2").has(), true);

        jsonArray.point(".[0].ListMap[*].id3[*][*].id33").put("ext_id3", 1);
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[0].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[1].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[1].ListMap[0].id3[0][0].id33.ext_id3").has(), false);
        Assertions.assertEquals(jsonArray.point(".[1].ListMap[1].id3[0][0].id33.ext_id3").has(), false);

        jsonArray.point(".[*].ListMap[*].id3[*][*].id33").put("ext_id3", 1);
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[0].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[1].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[1].ListMap[0].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[1].ListMap[1].id3[0][0].id33.ext_id3").has(), true);

        jsonArray.point(".[0]").put("ext_int", 1);
        Assertions.assertEquals(jsonArray.point(".[0].ext_int").has(), true);
        Assertions.assertEquals(jsonArray.point(".[1].ext_int").has(), false);
    }

    @Test
    void pointPutFullKey() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json.deepCopy().put("int", 2));
        System.out.println(json.toString());

        json.point(".ex_int").put(1);
        Assertions.assertEquals(json.point(".ex_int").get().asInt(), 1);

        json.point(".\"ext.int\"").put(1);
        Assertions.assertEquals(json.point(".\"ext.int\"").get().asInt(), 1);

        json.point(".map.c").put(1);
        Assertions.assertEquals(json.point(".map.c").get().asInt(), 1);

        json.point(".ListMap[0].id3[0][0].id33.id334").put(1);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].id33.id334").has(), true);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0].id33.id334").has(), false);

        json.point(".ListMap[1].id3[*][*].ext_id").put(1);
        json.point(".ListMap[1]").point(".id3[*][*].ext_id").put(1);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0].ext_id").has(), true);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].ext_id").has(), false);

        json.point(".ListMap[*].id3[*][*].ext_id2").put(1);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].ext_id2").has(), true);
        Assertions.assertEquals(json.point(".ListMap[1].id3[0][0].ext_id2").has(), true);

        jsonArray.point(".[0].ListMap[*].id3[*][*].id33.ext_id3").put(1);
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[0].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[1].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[1].ListMap[0].id3[0][0].id33.ext_id3").has(), false);
        Assertions.assertEquals(jsonArray.point(".[1].ListMap[1].id3[0][0].id33.ext_id3").has(), false);

        jsonArray.point(".[*].ListMap[*].id3[*][*].id33.ext_id3").put(1);
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[0].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[1].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[1].ListMap[0].id3[0][0].id33.ext_id3").has(), true);
        Assertions.assertEquals(jsonArray.point(".[1].ListMap[1].id3[0][0].id33.ext_id3").has(), true);

        jsonArray.point(".[0].ext_int").put(1);
        Assertions.assertEquals(jsonArray.point(".[0].ext_int").has(), true);
        Assertions.assertEquals(jsonArray.point(".[1].ext_int").has(), false);
    }

    @Test
    void pointAdd() {
        JSON json = JSON
            .sPut("int", Boolean.valueOf("false"))
            .put("string", "2")
            .put("int2", Boolean.valueOf("false"))
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json.deepCopy().put("int", 2));
        System.out.println(json.toString());

        json
            .point(".ListMap")
            .add(
                JSON
                    .sPut("id1", "1")
                    .put("id2", "2")
                    .put(
                        "id3",
                        JSON.sAdd(
                            JSON.sAdd(
                                JSON
                                    .sPut("id11", "1")
                                    .put("id22", "2")
                                    .put("id33", JSON.sPut("id333", "value1"))
                            )
                        )
                    )
            );
        Assertions.assertEquals(json.point(".ListMap[2].id3[0][0].id33.id333").has(), true);

        json
            .point(".ListMap[2].id3[0]")
            .add(JSON.sPut("id11", "1").put("id22", "2").put("id33", JSON.sPut("id333", "value1")));
        Assertions.assertEquals(json.point(".ListMap[2].id3[0][1].id33.id333").has(), true);

        json
            .point(".ListMap[2].id3")
            .add(
                JSON.sAdd(JSON.sPut("id11", "1").put("id22", "2").put("id33", JSON.sPut("id333", "value1")))
            );
        Assertions.assertEquals(json.point(".ListMap[2].id3[1][0].id33.id333").has(), true);

        json
            .point(".ListMap[*].id3")
            .add(
                JSON.sAdd(JSON.sPut("id11", "1").put("id22", "2").put("id33", JSON.sPut("id333", "value1")))
            );
        Assertions.assertEquals(
            json.point(".ListMap[0].id3[1][0].id33.id333").has() &&
            json.point(".ListMap[1].id3[1][0].id33.id333").has() &&
            json.point(".ListMap[1].id3[1][0].id33.id333").has(),
            true
        );

        jsonArray
            .point(".[0].ListMap")
            .add(
                JSON
                    .sPut("id1", "1")
                    .put("id2", "2")
                    .put(
                        "id3",
                        JSON.sAdd(
                            JSON.sAdd(
                                JSON
                                    .sPut("id11", "1")
                                    .put("id22", "2")
                                    .put("id33", JSON.sPut("id333", "value1"))
                            )
                        )
                    )
            );
        Assertions.assertEquals(jsonArray.point(".[0].ListMap[2].id3[0][0].id33.id333").has(), true);

        jsonArray.point(".").add(json.deepCopy().put("int", 3));
        Assertions.assertEquals(jsonArray.point(".[2].int").has(), true);
    }

    @Test
    void pointNullish() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json);
        System.out.println(json.toString());
        // System.out.println(json.point(".ListMap[0].id3").get().asString());
        Assertions.assertEquals(json.point("?.int-null").get().asInt(), null);
        Assertions.assertEquals(json.point("?.string-null").get().asString(), null);
        Assertions.assertEquals(json.point("?.float-null").get().asFloat(), null);
        Assertions.assertEquals(json.point("?.double-null").get().asDouble(), null);
        Assertions.assertEquals(json.point("?.BigDecimal-null").get().asBigDecimal(), null);
        Assertions.assertEquals(json.point("?.boolean-null").get().asBoolean(), null);
        Assertions.assertEquals(json.point("?.null-null").get().asNull(), null);

        Assertions.assertEquals(json.point("?.map-null").get().asMap(), null);

        Assertions.assertEquals(json.point("?.\"JSON.Map-null\"").get().asMap(), null);
        Assertions.assertEquals(json.point("?.List-null").get().asList(String.class), null);

        Assertions.assertEquals(json.point(".map?.a-null").get().asString(), null);
        Assertions.assertEquals(json.point("?.List[3]").get().asString(), null);
        Assertions.assertEquals(json.point(".ListMap[0]?.id0").get().asString(), null);
        Assertions.assertEquals(json.point(".ListMap[0]?.id3[1]").get().asList(), null);
        Assertions.assertEquals(json.point(".ListMap[0]?.id3[0][1]").get().asMap(), null);
        Assertions.assertEquals(
            json.point(".ListMap[*]?.id0").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point("?.ListMap-null[*]?.id0").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*]?.id111").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*]?.id4[*][*]?.id111").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[1].id3[*][*]?.id111").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id33?.id3333").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray.point(".[0].ListMap[*].id3[*][*].id33?.id3333").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray.point("?.[2].ListMap[*].id3[*][*].id33.id333").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );

        try {
            json.point(".ListMap[0].id3[0][0].id331.id333").get().asString();
            Assertions.assertTrue(false);
        } catch (NullPointerException error) {
            Assertions.assertTrue(true);
        } catch (Exception error) {
            Assertions.assertTrue(false);
        }

        Assertions.assertEquals(json.point("?.ListMap[3].id3[0][0].id331.id333").get().asString(), null);

        Assertions.assertEquals(json.point(".ListMap[0]?.id33[0][0].id331.id333").get().asString(), null);

        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0]?.id331.id333").get().asString(), null);

        Assertions.assertEquals(
            json.point("?.ListMap1[*].id33[0][0].id331.id333").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(json.point(".ListMap[0]?.id3[10][0].id33.id333").get().asString(), null);

        Assertions.assertEquals(
            json.point(".ListMap[*]?.id3[10][0].id33.id333").get().asList().hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        try {
            jsonArray.point(".[3].ListMap[*].id3[*][*].id33.id333").get().asList();
            Assertions.assertTrue(false);
        } catch (NullPointerException error) {
            Assertions.assertTrue(true);
        } catch (Exception error) {
            Assertions.assertTrue(false);
        }

        Assertions.assertEquals(
            jsonArray.point("?.[3].ListMap[*].id3[*][*].id33.id333").get().asList().hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );
    }

    @Test
    void pointNullable() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json);
        System.out.println(json.toString());
        // System.out.println(json.point(".ListMap[0].id3").get(true).asString());
        Assertions.assertEquals(json.point(".int-null").get(true).asInt(), null);
        Assertions.assertEquals(json.point(".string-null").get(true).asString(), null);
        Assertions.assertEquals(json.point(".float-null").get(true).asFloat(), null);
        Assertions.assertEquals(json.point(".double-null").get(true).asDouble(), null);
        Assertions.assertEquals(json.point(".BigDecimal-null").get(true).asBigDecimal(), null);
        Assertions.assertEquals(json.point(".boolean-null").get(true).asBoolean(), null);
        Assertions.assertEquals(json.point(".null-null").get(true).asNull(), null);

        Assertions.assertEquals(json.point(".map-null").get(true).asMap(), null);

        Assertions.assertEquals(json.point(".\"JSON.Map-null\"").get(true).asMap(), null);
        Assertions.assertEquals(json.point(".List-null").get(true).asList(String.class), null);

        Assertions.assertEquals(json.point(".map.a-null").get(true).asString(), null);
        Assertions.assertEquals(json.point(".List[3]").get(true).asString(), null);
        Assertions.assertEquals(json.point(".ListMap[0].id0").get(true).asString(), null);
        Assertions.assertEquals(json.point(".ListMap[0].id3[1]").get(true).asList(), null);
        Assertions.assertEquals(json.point(".ListMap[0].id3[0][1]").get(true).asMap(), null);
        Assertions.assertEquals(
            json.point(".ListMap[*].id0").get(true).asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap-null[*].id0").get(true).asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id111").get(true).asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*].id4[*][*].id111").get(true).asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[1].id3[*][*].id111").get(true).asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id33.id3333").get(true).asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray
                .point(".[0].ListMap[*].id3[*][*].id33.id3333")
                .get(true)
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray.point(".[2].ListMap[*].id3[*][*].id33.id333").get(true).asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].id331.id333").get(true).asString(), null);

        Assertions.assertEquals(json.point(".ListMap[3].id3[0][0].id331.id333").get(true).asString(), null);

        Assertions.assertEquals(json.point(".ListMap[0].id33[0][0].id331.id333").get(true).asString(), null);

        Assertions.assertEquals(json.point(".ListMap[0].id3[0][0].id331.id333").get(true).asString(), null);

        Assertions.assertEquals(
            json.point(".ListMap1[*].id33[0][0].id331.id333").get(true).asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(json.point(".ListMap[0].id3[10][0].id33.id333").get(true).asString(), null);

        Assertions.assertEquals(
            json.point(".ListMap[*].id3[10][0].id33.id333").get(true).asList().hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray.point(".[3].ListMap[*].id3[*][*].id33.id333").get(true).asList().hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray.point(".[3].ListMap[*].id3[*][*].id33.id333").get(true).asList().hashCode(),
            new ArrayList<>() {
                {
                    add(null);
                }
            }
                .hashCode()
        );
    }

    void assertError(Runnable exec, String errorMessage) {
        try {
            exec.run();
        } catch (Exception error) {
            Assertions.assertEquals(errorMessage, error.getMessage());
        }
    }

    @Test
    void pointMissingPath() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json);
        System.out.println(json.toString());
        assertError(() -> json.point(".int-null").get().asInt(), ".int-null is missing");
        assertError(() -> json.point(".string-null").get().asString(), ".string-null is missing");
        assertError(() -> json.point(".float-null").get().asFloat(), ".float-null is missing");
        assertError(() -> json.point(".double-null").get().asDouble(), ".double-null is missing");
        assertError(() -> json.point(".BigDecimal-null").get().asBigDecimal(), ".BigDecimal-null is missing");
        assertError(() -> json.point(".boolean-null").get().asBoolean(), ".boolean-null is missing");
        assertError(() -> json.point(".null-null").get().asNull(), ".null-null is missing");

        assertError(() -> json.point(".map-null").get().asMap(), ".map-null is missing");

        assertError(() -> json.point(".\"JSON.Map-null\"").get().asMap(), ".JSON.Map-null is missing");
        assertError(() -> json.point(".List-null").get().asList(String.class), ".List-null is missing");
        assertError(() -> json.point(".map.a-null").get().asString(), ".map.a-null is missing");
        assertError(() -> json.point(".List[3]").get().asString(), ".List[3] is missing");
        assertError(() -> json.point(".ListMap[0].id0").get().asString(), ".ListMap[0].id0 is missing");
        assertError(() -> json.point(".ListMap[0].id3[1]").get().asList(), ".ListMap[0].id3[1] is missing");
        assertError(
            () -> json.point(".ListMap[0].id3[0][1]").get().asMap(),
            ".ListMap[0].id3[0][1] is missing"
        );
        assertError(
            () -> json.point(".ListMap[*].id0").get().asList(String.class),
            ".ListMap[0].id0,.ListMap[1].id0 is missing"
        );

        assertError(
            () -> json.point(".ListMap-null[*].id0").get().asList(String.class),
            ".ListMap-null is missing"
        );

        assertError(
            () -> json.point(".ListMap[*].id3[*][*].id111").get().asList(String.class),
            ".ListMap[0].id3[0][0].id111,.ListMap[1].id3[0][0].id111 is missing"
        );

        assertError(
            () -> json.point(".ListMap[*].id4[*][*].id111").get().asList(String.class),
            ".ListMap[0].id4,.ListMap[1].id4 is missing"
        );

        assertError(
            () -> json.point(".ListMap[1].id3[*][*].id111").get().asList(String.class),
            ".ListMap[1].id3[0][0].id111 is missing"
        );

        assertError(
            () -> json.point(".ListMap[*].id3[*][*].id33.id3333").get().asList(String.class),
            ".ListMap[0].id3[0][0].id33.id3333,.ListMap[1].id3[0][0].id33.id3333 is missing"
        );

        assertError(
            () -> jsonArray.point(".[0].ListMap[*].id3[*][*].id33.id3333").get().asList(String.class),
            ".[0].ListMap[0].id3[0][0].id33.id3333,.[0].ListMap[1].id3[0][0].id33.id3333 is missing"
        );

        assertError(
            () -> jsonArray.point(".[2].ListMap[*].id3[*][*].id33.id333").get().asList(String.class),
            ".[2] is missing"
        );

        assertError(
            () -> json.point(".ListMap[0].id3[0][0].id331.id333").get().asString(),
            ".ListMap[0].id3[0][0].id331 is missing"
        );

        assertError(
            () -> json.point(".ListMap[3].id3[0][0].id331.id333").get().asString(),
            ".ListMap[3] is missing"
        );

        assertError(
            () -> json.point(".ListMap[0].id33[0][0].id331.id333").get().asString(),
            ".ListMap[0].id33 is missing"
        );

        assertError(
            () -> json.point(".ListMap[0].id3[0][0].id331.id333").get().asString(),
            ".ListMap[0].id3[0][0].id331 is missing"
        );

        assertError(
            () -> json.point(".ListMap1[*].id33[0][0].id331.id333").get().asList(String.class),
            ".ListMap1 is missing"
        );

        assertError(
            () -> json.point(".ListMap[0].id3[10][0].id33.id333").get().asString(),
            ".ListMap[0].id3[10] is missing"
        );

        assertError(
            () -> json.point(".ListMap[*].id3[10][0].id33.id333").get().asList(),
            ".ListMap[0].id3[10],.ListMap[1].id3[10] is missing"
        );

        assertError(
            () -> jsonArray.point(".[3].ListMap[*].id3[*][*].id33.id333").get().asList(),
            ".[3] is missing"
        );

        assertError(
            () -> jsonArray.point(".[3].ListMap[*].id3[*][*].id33.id333").get().asList(),
            ".[3] is missing"
        );
    }

    @Test
    void pointDefaultValue() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1")),
                                    JSON
                                        .sPut("id11-null", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json, json);
        System.out.println(json.toString());
        Assertions.assertEquals(json.point(".int-null", 1).get().asInt(), 1);
        Assertions.assertEquals(json.point(".string-null", "2").get().asString(), "2");
        Assertions.assertEquals(json.point(".float-null", 2.5f).get().asFloat(), 2.5f);
        Assertions.assertEquals(json.point(".double-null", 2.5d).get().asDouble(), 2.5d);
        Assertions.assertEquals(
            json.point(".BigDecimal-null", BigDecimal.valueOf(1)).get().asBigDecimal(),
            BigDecimal.valueOf(1)
        );
        Assertions.assertEquals(json.point(".boolean-null", false).get().asBoolean(), false);
        Assertions.assertEquals(json.point(".null-null", null).get().asNull(), null);

        Assertions.assertEquals(
            json
                .point(
                    ".map-null",
                    new HashMap<String, String>() {
                        {
                            put("a", "1");
                            put("b", "2");
                        }
                    }
                )
                .get()
                .asMap()
                .hashCode(),
            new HashMap<String, String>() {
                {
                    put("a", "1");
                    put("b", "2");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json
                .point(
                    ".\"JSON.Map-null\"",
                    new HashMap<String, String>() {
                        {
                            put("m1", "1");
                            put("m2", "2");
                        }
                    }
                )
                .get()
                .asMap()
                .hashCode(),
            new HashMap<String, String>() {
                {
                    put("m1", "1");
                    put("m2", "2");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json
                .point(
                    ".List-null",
                    new ArrayList<String>() {
                        {
                            add("1");
                            add("2");
                        }
                    }
                )
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<String>() {
                {
                    add("1");
                    add("2");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(json.point(".map.a-null", "1").get().asString(), "1");
        Assertions.assertEquals(json.point(".List[10]", "1").get().asString(), "1");
        Assertions.assertEquals(json.point(".ListMap[0].id1-null", "1").get().asString(), "1");
        Assertions.assertEquals(
            json
                .point(
                    ".ListMap[0].id3[10]",
                    new ArrayList<Object>() {
                        {
                            add(
                                new HashMap<>() {
                                    {
                                        put("id11", "1");
                                        put("id22", "2");
                                        put(
                                            "id33",
                                            new HashMap<String, String>() {
                                                {
                                                    put("id333", "value1");
                                                }
                                            }
                                        );
                                    }
                                }
                            );
                        }
                    }
                )
                .get()
                .asList()
                .hashCode(),
            new ArrayList<Object>() {
                {
                    add(
                        new HashMap<>() {
                            {
                                put("id11", "1");
                                put("id22", "2");
                                put(
                                    "id33",
                                    new HashMap<String, String>() {
                                        {
                                            put("id333", "value1");
                                        }
                                    }
                                );
                            }
                        }
                    );
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json
                .point(
                    ".ListMap[0].id3[0][10]",
                    new HashMap<>() {
                        {
                            put("id11", "1");
                            put("id22", "2");
                            put(
                                "id33",
                                new HashMap<String, String>() {
                                    {
                                        put("id333", "value1");
                                    }
                                }
                            );
                        }
                    }
                )
                .get()
                .asMap()
                .hashCode(),
            new HashMap<>() {
                {
                    put("id11", "1");
                    put("id22", "2");
                    put(
                        "id33",
                        new HashMap<String, String>() {
                            {
                                put("id333", "value1");
                            }
                        }
                    );
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(json.point(".ListMap[0].id1-null", "1").get().asString(), "1");
        Assertions.assertEquals(
            json.point(".ListMap[*].id1-null", "fix").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id11-null", "fix").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("1");
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[1].id3[*][*].id11-null", "fix").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id33.id333-null", "fix").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray
                .point(".[0].ListMap[*].id3[*][*].id33.id333-null", "fix")
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray
                .point(".[0].ListMap[*].id3[*][*].id33.id333-null", () -> "fix")
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json
                .point(".ListMap[0].id3[0][0].id331.id333-null")
                .defaultValue(
                    new HashMap<String, Object>() {
                        {
                            put(
                                ".ListMap[0].id3[0][0].id331",
                                new HashMap<String, Object>() {
                                    {}
                                }
                            );
                            put(".ListMap[0].id3[0][0].id331.id333-null", "fix");
                        }
                    }
                )
                .get()
                .asString(),
            "fix"
        );
    }

    @Test
    void pointDefaultValueToUpdate() {
        JSON json = JSON
            .sPut("int", 1)
            .put("string", "2")
            .put("float", 2.5f)
            .put("double", 2.5d)
            .put("BigDecimal", BigDecimal.valueOf(1))
            .put("boolean", false)
            .put("null", null)
            .put(
                "map",
                new HashMap<String, String>() {
                    {
                        put("a", "1");
                        put("b", "2");
                    }
                }
            )
            .put("JSON.Map", JSON.sPut("m1", "1").put("m2", "2"))
            .put(
                "List",
                new ArrayList<String>() {
                    {
                        add("1");
                        add("2");
                    }
                }
            )
            .put(
                "ListMap",
                JSON.sAdd(
                    JSON
                        .sPut("id1", "1")
                        .put("id2", "2")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1")),
                                    JSON
                                        .sPut("id11-null", "1")
                                        .put("id22", "2")
                                        .put("id33", JSON.sPut("id333", "value1"))
                                )
                            )
                        ),
                    JSON
                        .sPut("id1", "11")
                        .put("id2", "22")
                        .put(
                            "id3",
                            JSON.sAdd(
                                JSON.sAdd(
                                    JSON
                                        .sPut("id11", "11")
                                        .put("id22", "22")
                                        .put("id33", JSON.sPut("id333", "value2"))
                                )
                            )
                        )
                )
            )
            .put(
                "JSON.List",
                JSON
                    .sAdd(1)
                    .add(2, 4)
                    .add(5)
                    .add(
                        new ArrayList<Integer>() {
                            {
                                add(6);
                                add(7);
                            }
                        }
                    )
            );

        JSON jsonArray = JSON.sAdd(json.deepCopy(), json.deepCopy());
        System.out.println(json.toString());

        Assertions.assertEquals(json.point(".int-null", 1).get().asInt(), 1);
        Assertions.assertFalse(json.point(".int-null").has());
        Assertions.assertEquals(json.point(".int-null", 1, true).get().asInt(), 1);
        Assertions.assertTrue(json.point(".int-null").has());

        Assertions.assertEquals(
            json
                .point(
                    ".map-null",
                    new HashMap<String, String>() {
                        {
                            put("a", "1");
                            put("b", "2");
                        }
                    }
                )
                .get()
                .asMap()
                .hashCode(),
            new HashMap<String, String>() {
                {
                    put("a", "1");
                    put("b", "2");
                }
            }
                .hashCode()
        );
        Assertions.assertFalse(json.point(".map-null").has());
        Assertions.assertEquals(
            json
                .point(
                    ".map-null",
                    new HashMap<String, String>() {
                        {
                            put("a", "1");
                            put("b", "2");
                        }
                    },
                    true
                )
                .get()
                .asMap()
                .hashCode(),
            new HashMap<String, String>() {
                {
                    put("a", "1");
                    put("b", "2");
                }
            }
                .hashCode()
        );
        Assertions.assertFalse(!json.point(".map-null").has());

        Assertions.assertEquals(
            json
                .point(
                    ".\"JSON.Map-null\"",
                    new HashMap<String, String>() {
                        {
                            put("m1", "1");
                            put("m2", "2");
                        }
                    }
                )
                .get()
                .asMap()
                .hashCode(),
            new HashMap<String, String>() {
                {
                    put("m1", "1");
                    put("m2", "2");
                }
            }
                .hashCode()
        );
        Assertions.assertFalse(json.point(".\"JSON.Map-null\"").has());
        Assertions.assertEquals(
            json
                .point(
                    ".\"JSON.Map-null\"",
                    new HashMap<String, String>() {
                        {
                            put("m1", "1");
                            put("m2", "2");
                        }
                    },
                    true
                )
                .get()
                .asMap()
                .hashCode(),
            new HashMap<String, String>() {
                {
                    put("m1", "1");
                    put("m2", "2");
                }
            }
                .hashCode()
        );
        Assertions.assertFalse(!json.point(".\"JSON.Map-null\"").has());

        Assertions.assertEquals(
            json
                .point(
                    ".List-null",
                    new ArrayList<String>() {
                        {
                            add("1");
                            add("2");
                        }
                    }
                )
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<String>() {
                {
                    add("1");
                    add("2");
                }
            }
                .hashCode()
        );
        Assertions.assertFalse(json.point(".List-null").has());
        Assertions.assertEquals(
            json
                .point(
                    ".List-null",
                    new ArrayList<String>() {
                        {
                            add("1");
                            add("2");
                        }
                    },
                    true
                )
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<String>() {
                {
                    add("1");
                    add("2");
                }
            }
                .hashCode()
        );
        Assertions.assertTrue(json.point(".List-null").has());

        Assertions.assertEquals(json.point(".map.a-null", "1").get().asString(), "1");
        Assertions.assertFalse(json.point(".map.a-null").has());
        Assertions.assertEquals(json.point(".map.a-null", "1", true).get().asString(), "1");
        Assertions.assertTrue(json.point(".map.a-null").has());

        Assertions.assertEquals(json.point(".List[10]", "1").get().asString(), "1");
        Assertions.assertFalse(json.point(".List[10]").has());
        Assertions.assertEquals(json.point(".List[10]", "1", true).get().asString(), "1");
        Assertions.assertTrue(json.point(".List[0]").has());

        Assertions.assertEquals(json.point(".ListMap[0].id1-null", "1").get().asString(), "1");
        Assertions.assertFalse(json.point(".ListMap[0].id1-null").has());
        Assertions.assertEquals(json.point(".ListMap[0].id1-null", "1", true).get().asString(), "1");
        Assertions.assertTrue(json.point(".ListMap[0].id1-null").has());

        Assertions.assertEquals(
            json
                .point(
                    ".ListMap[0].id3[10]",
                    new ArrayList<Object>() {
                        {
                            add(
                                new HashMap<>() {
                                    {
                                        put("id11", "1");
                                        put("id22", "2");
                                        put(
                                            "id33",
                                            new HashMap<String, String>() {
                                                {
                                                    put("id333", "value1");
                                                }
                                            }
                                        );
                                    }
                                }
                            );
                        }
                    }
                )
                .get()
                .asList()
                .hashCode(),
            new ArrayList<Object>() {
                {
                    add(
                        new HashMap<>() {
                            {
                                put("id11", "1");
                                put("id22", "2");
                                put(
                                    "id33",
                                    new HashMap<String, String>() {
                                        {
                                            put("id333", "value1");
                                        }
                                    }
                                );
                            }
                        }
                    );
                }
            }
                .hashCode()
        );
        Assertions.assertFalse(json.point(".ListMap[0].id3[3]").has());
        Assertions.assertEquals(
            json
                .point(
                    ".ListMap[0].id3[10]",
                    new ArrayList<Object>() {
                        {
                            add(
                                new HashMap<>() {
                                    {
                                        put("id11", "1");
                                        put("id22", "2");
                                        put(
                                            "id33",
                                            new HashMap<String, String>() {
                                                {
                                                    put("id333", "value1");
                                                }
                                            }
                                        );
                                    }
                                }
                            );
                        }
                    },
                    true
                )
                .get()
                .asList()
                .hashCode(),
            new ArrayList<Object>() {
                {
                    add(
                        new HashMap<>() {
                            {
                                put("id11", "1");
                                put("id22", "2");
                                put(
                                    "id33",
                                    new HashMap<String, String>() {
                                        {
                                            put("id333", "value1");
                                        }
                                    }
                                );
                            }
                        }
                    );
                }
            }
                .hashCode()
        );
        System.out.println(json.point(".ListMap[0].id3").get().asList());
        Assertions.assertTrue(json.point(".ListMap[0].id3[1]").has());

        Assertions.assertEquals(
            json
                .point(
                    ".ListMap[0].id3[0][10]",
                    new HashMap<>() {
                        {
                            put("id11", "1");
                            put("id22", "2");
                            put(
                                "id33",
                                new HashMap<String, String>() {
                                    {
                                        put("id333", "value1");
                                    }
                                }
                            );
                        }
                    }
                )
                .get()
                .asMap()
                .hashCode(),
            new HashMap<>() {
                {
                    put("id11", "1");
                    put("id22", "2");
                    put(
                        "id33",
                        new HashMap<String, String>() {
                            {
                                put("id333", "value1");
                            }
                        }
                    );
                }
            }
                .hashCode()
        );
        Assertions.assertFalse(json.point(".ListMap[0].id3[0][2]").has());
        Assertions.assertEquals(
            json
                .point(
                    ".ListMap[0].id3[0][10]",
                    new HashMap<>() {
                        {
                            put("id11", "1");
                            put("id22", "2");
                            put(
                                "id33",
                                new HashMap<String, String>() {
                                    {
                                        put("id333", "value1");
                                    }
                                }
                            );
                        }
                    },
                    true
                )
                .get()
                .asMap()
                .hashCode(),
            new HashMap<>() {
                {
                    put("id11", "1");
                    put("id22", "2");
                    put(
                        "id33",
                        new HashMap<String, String>() {
                            {
                                put("id333", "value1");
                            }
                        }
                    );
                }
            }
                .hashCode()
        );
        Assertions.assertFalse(!json.point(".ListMap[0].id3[0][2]").has());

        Assertions.assertEquals(
            json.point(".ListMap[*].id1-null-1", "fix").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json.point(".ListMap[*].id1-null-1", "fix", true).get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json.point(".ListMap[*].id1-null-1").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );

        System.out.println(json.point(".ListMap[*].id3[*][*].id11-null", "fix").get().asList(String.class));
        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id11-null", "fix").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("1");
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id11-null", "fix", true).get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("1");
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id11-null").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("1");
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json.point(".ListMap[1].id3[*][*].id11-null-null", "fix").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(json.point(".ListMap[1].id3[*][*].id11-null-null").has(), false);
        Assertions.assertEquals(
            json
                .point(".ListMap[1].id3[*][*].id11-null-null", "fix", true)
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(json.point(".ListMap[1].id3[*][*].id11-null-null").has(), true);

        Assertions.assertEquals(
            json
                .point(".ListMap[*].id3[*][*].id33.id333-null-null", "fix")
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json
                .point(".ListMap[*].id3[*][*].id33.id333-null-null", "fix", true)
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            json.point(".ListMap[*].id3[*][*].id33.id333-null-null").get().asList(String.class).hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray
                .point(".[0].ListMap[*].id3[*][*].id33.id333-null", "fix")
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            jsonArray
                .point(".[0].ListMap[*].id3[*][*].id33.id333-null", "fix", true)
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            jsonArray
                .point(".[0].ListMap[*].id3[*][*].id33.id333-null")
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            jsonArray
                .point(".[0].ListMap[*].id3[*][*].id33.id333-null", () -> "fix")
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            jsonArray
                .point(".[0].ListMap[*].id3[*][*].id33.id333-null", () -> "fix", true)
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );
        Assertions.assertEquals(
            jsonArray
                .point(".[0].ListMap[*].id3[*][*].id33.id333-null")
                .get()
                .asList(String.class)
                .hashCode(),
            new ArrayList<>() {
                {
                    add("fix");
                    add("fix");
                    add("fix");
                }
            }
                .hashCode()
        );

        Assertions.assertEquals(
            json
                .point(".ListMap[0].id3[0][0].id331.id333-null-hashmap")
                .defaultValue(
                    new HashMap<String, Object>() {
                        {
                            put(
                                ".ListMap[0].id3[0][0].id331",
                                new HashMap<String, Object>() {
                                    {}
                                }
                            );
                            put(".ListMap[0].id3[0][0].id331.id333-null-hashmap", "fix");
                        }
                    }
                )
                .get()
                .asString(),
            "fix"
        );
        Assertions.assertEquals(
            json
                .point(".ListMap[0].id3[0][0].id331.id333-null-hashmap")
                .defaultValue(
                    new HashMap<String, Object>() {
                        {
                            put(
                                ".ListMap[0].id3[0][0].id331",
                                new HashMap<String, Object>() {
                                    {}
                                }
                            );
                            put(".ListMap[0].id3[0][0].id331.id333-null-hashmap", "fix");
                        }
                    },
                    true
                )
                .get()
                .asString(),
            "fix"
        );
        Assertions.assertEquals(
            json.point(".ListMap[0].id3[0][0].id331.id333-null-hashmap").get().asString(),
            "fix"
        );
    }

    @Test
    void sugar() {
        Assertions.assertEquals(JSON.nullNode().point().get().asNull(), null);

        Assertions.assertEquals(JSON.nullNode().point().get().isNull(), true);

        Assertions.assertEquals(JSON.missingNode().point().get().isMissing(), true);

        Assertions.assertTrue(JSON.parse("qqq").getJacksonNode() instanceof TextNode);

        Assertions.assertTrue(JSON.parse("{\"a\":1}").getJacksonNode() instanceof ObjectNode);

        Assertions.assertTrue(JSON.parse("[{\"a\":1}]").getJacksonNode() instanceof ArrayNode);

        System.out.println(
            JSON
                .parse(
                    "[{\"map2\":\"2\",\"map1\":\"1\"},{\"map2\":\"22\",\"map1\":\"11\"}]"
                )
                .toString(true)
        );

        System.out.println(
            JSON.parse(new BigDecimal("1.0"))
        );
    }
}
